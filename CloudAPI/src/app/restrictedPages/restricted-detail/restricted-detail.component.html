<section id = 'restricted-detail'>
    <h2 class="mb-4 font-weight-bold text-center">Selected Country</h2>
    <div class="text-center mb-4">
        <button type="button" (click)="go()" class="btn btn-cyan">Details selected country<i class="fa fa-paper-plane-o ml-2"></i></button>
    </div>
    <div class="text-center mb-4" *ngIf="country">
            <img src= {{country.Flag}} alt="flag" style="width: 30%;" *ngIf="share.Option == 'API'">
            <img src= {{country.flag}} alt="flag" style="width: 30%;" *ngIf="share.Option == 'MyWorld'">
    </div>
    

    <!--Grid row-->
    <div class="row" *ngIf="country; else start">
    
    <!--Grid column-->
    <div class="col-lg-6 col-md-12" >
        <table class="table table-borderless table-sm" >
        
            <tbody>
                <tr>
                    <th scope="row"><i class="fa fa-globe mr-2" aria-hidden="true"></i>Name</th>
                    <td>{{country.Name}}<span *ngIf = "share.Option == 'MyWorld'">{{country.name}}</span></td>
                </tr>
                <tr>
                    <th scope="row"><i class="fa fa-heart mr-2" aria-hidden="true"></i>Native name</th>
                    <td>{{country.NativeName}}<span *ngIf = "share.Option == 'MyWorld'">{{country.nativeName}}</span></td>
                </tr>
                <tr>
                    <th scope="row"><i class="fa fa-map-o mr-2" aria-hidden="true"></i>Region</th>
                    <td>{{country.Region}}<span *ngIf = "share.Option == 'MyWorld'">{{country.region}}</span></td>
                </tr>
                <tr>
                    <th scope="row"><i class="fa fa-map mr-2" aria-hidden="true"></i>Subregion</th>
                    <td>{{country.SubRegion}}<span *ngIf = "share.Option == 'MyWorld'">{{country.subRegion}}</span></td>
                </tr>
                <tr>
                    <th scope="row"><i class="fa fa-heart-o mr-2" aria-hidden="true"></i>Native language</th>
                    <td>{{country.NativeLanguage}}<span *ngIf = "share.Option == 'MyWorld'">{{country.nativeLanguage}}</span></td>
                </tr>
                <tr>
                    <th scope="row"><i class="fa fa-money mr-2" aria-hidden="true"></i>Currency name</th>
                    <td>{{country.CurrencyName}}<span *ngIf = "share.Option == 'MyWorld'">{{country.currencyName}}</span></td>
                    <th scope="row">Symbol</th>
                    <td>{{country.CurrencySymbol}}<span *ngIf = "share.Option == 'MyWorld'">{{country.currencySymbol}}</span></td>
                </tr>
                <tr>
                    <th scope="row"><i class="fa fa-star mr-2" aria-hidden="true"></i>Area</th>
                    <td>{{country.Area}}<span *ngIf = "share.Option == 'MyWorld'">{{country.area}}</span> km²</td>
                </tr>
            </tbody>

        </table>
    
    </div>
    <!--Grid column-->
    
    <!--Grid column-->
    <div class="col-lg-6 col-md-12">
    
        <div *ngIf= "country" style="height: 300px;" leaflet [leafletOptions]="options"></div>        
    
    </div>
    <!--Grid column-->
    
    </div>
    
    <!--Grid row-->
    <div class="row d-flex justify-content-center mt-4" *ngIf="share.Option == 'MyWorld'">
        
        <div >
                <a><i *ngIf="!country.favourite" class="fa fa-heart-o fa-3x" aria-hidden="true" (click)="country.favourite = !country.favourite"> Favourite</i></a>
                <a><i *ngIf="country.favourite" class="fa fa-heart fa-3x orange-text" aria-hidden="true" (click)="country.favourite = !country.favourite"> Favourite</i></a>
        </div>
       
    </div>

    <div class="row d-flex justify-content-center mt-4" *ngIf="share.Option == 'MyWorld'">
        <div class="col-md-3 d-flex justify-content-center">
            <button type="button" class="btn btn-cyan btn-lg" (click)="save()" mdbWavesEffect>Save</button>
        </div>

        <div class="col-md-3 d-flex justify-content-center">
            <button type="button" class="btn btn-cyan btn-lg" (click)="form.show()" mdbWavesEffect>Story</button>
        </div>
        <!--Modal: Contact form-->
        <div mdbModal #form="mdb-modal" class="modal fade mb-0" id="modalstoryForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog cascading-modal" role="document">
                <!--Content-->
                <div class="modal-content">
            
                    <!--Header-->
                    <div class="modal-header cyan white-text" *ngIf="country">
                        <h4 class="title font-weight-bold">{{country.name}}</h4>
                        <h4 class="title"><i class="fa fa-pencil"></i> Add a travel story</h4>
                        <button type="button" class="close waves-effect waves-light" data-dismiss="modal" aria-label="Close" (click)="form.hide()">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <story-modal></story-modal>
                    </div>
                </div>
            </div>
        </div>
        <!--Modal: Contact form-->
    </div>

</section>

<ng-template #noData>
<i class="fa fa-globe fa-5x blue-text mb-3" aria-hidden="true"></i>
<p>Your search did not match any country.</p>
</ng-template>

<ng-template #start>
    <div class="text-center mb-4">
        <i class="fa fa-globe fa-5x blue-text mb-3 " aria-hidden="true"></i>
    </div>
</ng-template>